import{q as e,l as a,g as l,w as r,o as u,v as s,B as m,c3 as t,E as i}from"./index.BmsgrFcj.js";import{E as o,a as n}from"./el-form-item.DwlSsYlR.js";import{E as d}from"./_plugin-vue_export-helper.DnIr6MF_.js";import{E as p}from"./el-input.hbMfxXk5.js";import{P as f}from"./PageContainer.DXd6b4f5.js";import"./_baseClone.BqUJpUxs.js";const g={__name:"UserProfile",setup(g){const{user:{email:c,id:v,nickname:_,username:b},getUser:V}=e(),k=a(),j=a({id:v,username:b,nickname:_,email:c}),y=a({nickName:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{2,10}$/,message:"用户昵称必须是2-10位非空字符",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}]}),w=async()=>{await k.value.validate(),await t(j.value),V(),i.success("更新用户信息成功")};return(e,a)=>{const t=p,i=n,g=d,c=o;return u(),l(f,{title:"基本资料"},{default:r(()=>[s(c,{style:{width:"50%"},ref_key:"formRef",ref:k,model:j.value,rules:y.value,"label-width":"100px"},{default:r(()=>[s(i,{label:"登录名称"},{default:r(()=>[s(t,{modelValue:j.value.username,"onUpdate:modelValue":a[0]||(a[0]=e=>j.value.username=e),disabled:""},null,8,["modelValue"])]),_:1}),s(i,{label:"用户昵称",prop:"nickname"},{default:r(()=>[s(t,{modelValue:j.value.nickname,"onUpdate:modelValue":a[1]||(a[1]=e=>j.value.nickname=e)},null,8,["modelValue"])]),_:1}),s(i,{label:"用户邮箱",prop:"email"},{default:r(()=>[s(t,{modelValue:j.value.email,"onUpdate:modelValue":a[2]||(a[2]=e=>j.value.email=e)},null,8,["modelValue"])]),_:1}),s(i,null,{default:r(()=>[s(g,{type:"primary",onClick:w},{default:r(()=>[...a[3]||(a[3]=[m("提交修改",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}}};export{g as default};
