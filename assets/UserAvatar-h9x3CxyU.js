import{q as k,l as p,g as d,w as a,o as r,v as s,x as y,J as U,K as E,y as l,b2 as _,B as f,c4 as w,c5 as x,E as B}from"./index-BBX7g_r1.js";import{_ as A,E as S}from"./_plugin-vue_export-helper-XK_V8HkE.js";import{E as C}from"./el-progress-wfTZfXTk.js";import{P as R}from"./PageContainer-Cyhng0Qa.js";import"./_baseClone-DNK4N_ty.js";const b=["src"],N={__name:"UserAvatar",setup(V){const n=k(),t=p(n.user.user_pic),c=p(),m=u=>{const e=new FileReader;e.readAsDataURL(u.raw),e.onload=o=>{t.value=o.target.result}},v=async()=>{await x(t.value),await n.getUser(),B.success("更新头像成功")};return(u,e)=>{const o=E,g=C,i=S;return r(),d(R,{title:"更换头像"},{default:a(()=>[s(g,{class:"avatar-uploader","show-file-list":!1,"auto-upload":!1,ref_key:"uploadRef",ref:c,"on-change":m},{default:a(()=>[t.value?(r(),U("img",{key:0,src:t.value,class:"avatar"},null,8,b)):(r(),d(o,{key:1,class:"avatar-uploader-icon"},{default:a(()=>[s(l(_))]),_:1}))]),_:1},512),e[3]||(e[3]=y("br",null,null,-1)),s(i,{onClick:e[0]||(e[0]=q=>c.value.$el.querySelector("input").click()),type:"primary",icon:l(_),size:"large"},{default:a(()=>[...e[1]||(e[1]=[f("选择图片",-1)])]),_:1},8,["icon"]),s(i,{onClick:v,type:"success",icon:l(w),size:"large"},{default:a(()=>[...e[2]||(e[2]=[f("上传头像",-1)])]),_:1},8,["icon"])]),_:1})}}},D=A(N,[["__scopeId","data-v-aa54e375"]]);export{D as default};
