import{q as b,l as s,g as V,w as t,o as k,v as e,B as E,c3 as U,E as w}from"./index-BBX7g_r1.js";import{E as y,a as x}from"./el-form-item-DOvZtaHZ.js";import{E as B}from"./_plugin-vue_export-helper-XK_V8HkE.js";import{E as q}from"./el-input-BDimhK_Y.js";import{P as C}from"./PageContainer-Cyhng0Qa.js";import"./_baseClone-DNK4N_ty.js";const $={__name:"UserProfile",setup(F){const{user:{email:n,id:i,nickname:d,username:p},getUser:f}=b(),u=s(),l=s({id:i,username:p,nickname:d,email:n}),_=s({nickName:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{2,10}$/,message:"用户昵称必须是2-10位非空字符",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}]}),c=async()=>{await u.value.validate(),await U(l.value),f(),w.success("更新用户信息成功")};return(I,a)=>{const m=q,o=x,g=B,v=y;return k(),V(C,{title:"基本资料"},{default:t(()=>[e(v,{style:{width:"50%"},ref_key:"formRef",ref:u,model:l.value,rules:_.value,"label-width":"100px"},{default:t(()=>[e(o,{label:"登录名称"},{default:t(()=>[e(m,{modelValue:l.value.username,"onUpdate:modelValue":a[0]||(a[0]=r=>l.value.username=r),disabled:""},null,8,["modelValue"])]),_:1}),e(o,{label:"用户昵称",prop:"nickname"},{default:t(()=>[e(m,{modelValue:l.value.nickname,"onUpdate:modelValue":a[1]||(a[1]=r=>l.value.nickname=r)},null,8,["modelValue"])]),_:1}),e(o,{label:"用户邮箱",prop:"email"},{default:t(()=>[e(m,{modelValue:l.value.email,"onUpdate:modelValue":a[2]||(a[2]=r=>l.value.email=r)},null,8,["modelValue"])]),_:1}),e(o,null,{default:t(()=>[e(g,{type:"primary",onClick:c},{default:t(()=>[...a[3]||(a[3]=[E("提交修改",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}}};export{$ as default};
