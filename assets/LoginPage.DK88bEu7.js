import{b as e,m as a,d as s,_ as l,a as t,i as r,c as u,u as o,e as p,f as n,g as d,o as i,w as m,r as f,n as c,h as g,j as v,k as y,p as _,l as b,q as w,s as x,t as h,v as j,x as k,y as $,z as V,A as E,B as N,C,E as S,D as O}from"./index.BmsgrFcj.js";import{E as U}from"./el-checkbox.CDPVIObO.js";import{E as q,a as z}from"./el-form-item.DwlSsYlR.js";import{E as L}from"./el-link.COY5Xppo.js";import{_ as R,E as A}from"./_plugin-vue_export-helper.DnIr6MF_.js";import{E as B}from"./el-input.hbMfxXk5.js";import"./_baseClone.BqUJpUxs.js";const D=e({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:s([Number,Object]),default:()=>a({})},sm:{type:s([Number,Object]),default:()=>a({})},md:{type:s([Number,Object]),default:()=>a({})},lg:{type:s([Number,Object]),default:()=>a({})},xl:{type:s([Number,Object]),default:()=>a({})}}),I=Symbol("rowContextKey");const K=y(l(t({name:"ElCol",__name:"col",props:D,setup(e){const a=e,{gutter:s}=r(I,{gutter:u(()=>0)}),l=o("col"),t=u(()=>{const e={};return s.value&&(e.paddingLeft=e.paddingRight=s.value/2+"px"),e}),y=u(()=>{const e=[];["span","offset","pull","push"].forEach(s=>{const t=a[s];p(t)&&("span"===s?e.push(l.b(`${a[s]}`)):t>0&&e.push(l.b(`${s}-${a[s]}`)))});return["xs","sm","md","lg","xl"].forEach(s=>{p(a[s])?e.push(l.b(`${s}-${a[s]}`)):n(a[s])&&Object.entries(a[s]).forEach(([a,t])=>{e.push("span"!==a?l.b(`${s}-${a}-${t}`):l.b(`${s}-${t}`))})}),s.value&&e.push(l.is("guttered")),[l.b(),e]});return(e,a)=>(i(),d(v(e.tag),{class:g(y.value),style:c(t.value)},{default:m(()=>[f(e.$slots,"default")]),_:3},8,["class","style"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]));const P=y(l(t({name:"ElRow",__name:"row",props:e({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:["start","center","end","space-around","space-between","space-evenly"],default:"start"},align:{type:String,values:["top","middle","bottom"]}}),setup(e){const a=e,s=o("row"),l=u(()=>a.gutter);_(I,{gutter:l});const t=u(()=>{const e={};return a.gutter?(e.marginRight=e.marginLeft=`-${a.gutter/2}px`,e):e}),r=u(()=>[s.b(),s.is(`justify-${a.justify}`,"start"!==a.justify),s.is(`align-${a.align}`,!!a.align)]);return(e,a)=>(i(),d(v(e.tag),{class:g(r.value),style:c(t.value)},{default:m(()=>[f(e.$slots,"default")]),_:3},8,["class","style"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]])),T={class:"flex"},F=R({__name:"LoginPage",setup(e){const a=b(!1),s=b({username:"",password:"",repassword:""}),l=b(),t={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:5,max:10,message:"用户名必须是5-10位字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15位非空字符",trigger:"blur"}],repassword:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15位非空字符",trigger:"blur"},{validator:(e,a,l)=>{a!==s.value.password?l(new Error("两次输入密码不一致")):l()},trigger:"change"}]},r=async()=>{await l.value.validate(),await C(s.value),S.success("注册成功"),a.value=!1},u=w(),o=h(),p=async()=>{await l.value.validate();const e=await O(s.value);u.setToken(e.data.token),S.success("登录成功"),o.push("/")};return x(a,()=>{s.value={username:"",password:"",repassword:""}}),(e,u)=>{const o=K,n=z,f=B,c=A,g=L,v=q,y=U,_=P;return i(),d(_,{class:"login-page"},{default:m(()=>[j(o,{span:12,class:"bg"}),j(o,{span:6,offset:3,class:"form"},{default:m(()=>[a.value?(i(),d(v,{key:0,model:s.value,rules:t,ref_key:"form",ref:l,size:"large",autocomplete:"off"},{default:m(()=>[j(n,null,{default:m(()=>[...u[7]||(u[7]=[k("h1",null,"注册",-1)])]),_:1}),j(n,{prop:"username"},{default:m(()=>[j(f,{modelValue:s.value.username,"onUpdate:modelValue":u[0]||(u[0]=e=>s.value.username=e),"prefix-icon":$(V),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),j(n,{prop:"password"},{default:m(()=>[j(f,{modelValue:s.value.password,"onUpdate:modelValue":u[1]||(u[1]=e=>s.value.password=e),"prefix-icon":$(E),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),j(n,{prop:"repassword"},{default:m(()=>[j(f,{modelValue:s.value.repassword,"onUpdate:modelValue":u[2]||(u[2]=e=>s.value.repassword=e),"prefix-icon":$(E),type:"password",placeholder:"请再次输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),j(n,null,{default:m(()=>[j(c,{onClick:r,class:"button",type:"primary","auto-insert-space":""},{default:m(()=>[...u[8]||(u[8]=[N(" 注册 ",-1)])]),_:1})]),_:1}),j(n,{class:"flex"},{default:m(()=>[j(g,{type:"info",underline:!1,onClick:u[3]||(u[3]=e=>a.value=!1)},{default:m(()=>[...u[9]||(u[9]=[N(" ← 返回 ",-1)])]),_:1})]),_:1})]),_:1},8,["model"])):(i(),d(v,{key:1,model:s.value,rules:t,ref_key:"form",ref:l,size:"large",autocomplete:"off"},{default:m(()=>[j(n,null,{default:m(()=>[...u[10]||(u[10]=[k("h1",null,"登录",-1)])]),_:1}),j(n,{prop:"username"},{default:m(()=>[j(f,{modelValue:s.value.username,"onUpdate:modelValue":u[4]||(u[4]=e=>s.value.username=e),"prefix-icon":$(V),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),j(n,{prop:"password"},{default:m(()=>[j(f,{modelValue:s.value.password,"onUpdate:modelValue":u[5]||(u[5]=e=>s.value.password=e),name:"password","prefix-icon":$(E),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),j(n,{class:"flex"},{default:m(()=>[k("div",T,[j(y,null,{default:m(()=>[...u[11]||(u[11]=[N("记住我",-1)])]),_:1}),j(g,{type:"primary",underline:!1},{default:m(()=>[...u[12]||(u[12]=[N("忘记密码？",-1)])]),_:1})])]),_:1}),j(n,null,{default:m(()=>[j(c,{onClick:p,class:"button",type:"primary","auto-insert-space":""},{default:m(()=>[...u[13]||(u[13]=[N("登录",-1)])]),_:1})]),_:1}),j(n,{class:"flex"},{default:m(()=>[j(g,{type:"info",underline:!1,onClick:u[6]||(u[6]=e=>a.value=!0)},{default:m(()=>[...u[14]||(u[14]=[N(" 注册 → ",-1)])]),_:1})]),_:1})]),_:1},8,["model"]))]),_:1})]),_:1})}}},[["__scopeId","data-v-718cb5b0"]]);export{F as default};
