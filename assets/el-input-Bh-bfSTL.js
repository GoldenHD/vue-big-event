import{cg as Pe,ch as Te,bt as pe,bz as De,ci as rt,bQ as Ke,br as lt,cj as ut,bl as dt,bs as ct,ck as ft,e as ze,cl as pt,b as We,H as ie,d as M,m as vt,F as re,aQ as mt,aR as ht,c as h,bX as bt,a5 as Xe,aC as j,l as D,s as _,W as le,aM as Me,y as s,X as k,_ as gt,a as yt,cm as xt,N as wt,u as ke,aI as St,cn as Et,co as Ct,am as It,al as Nt,P as Pt,U as Tt,J as N,o as m,a1 as g,a7 as ue,x as O,h as w,r as J,g as P,w as B,j as $,K as U,L as Fe,a6 as de,bU as ce,aq as Z,n as Ae,aO as zt,f as Le,k as Mt}from"./index-DNCsKXf1.js";import{u as kt,f as Ft,c as At,e as Lt,d as Oe}from"./_plugin-vue_export-helper-CDt8arRA.js";function Ot(e){return e}function Vt(e,a,i){switch(i.length){case 0:return e.call(a);case 1:return e.call(a,i[0]);case 2:return e.call(a,i[0],i[1]);case 3:return e.call(a,i[0],i[1],i[2])}return e.apply(a,i)}var Rt=800,Ht=16,Bt=Date.now;function $t(e){var a=0,i=0;return function(){var n=Bt(),o=Ht-(n-i);if(i=n,o>0){if(++a>=Rt)return arguments[0]}else a=0;return e.apply(void 0,arguments)}}function Ut(e){return function(){return e}}var Dt=Pe?function(e,a){return Pe(e,"toString",{configurable:!0,enumerable:!1,value:Ut(a),writable:!0})}:Ot,Kt=$t(Dt),Ve=Math.max;function Wt(e,a,i){return a=Ve(a===void 0?e.length-1:a,0),function(){for(var n=arguments,o=-1,d=Ve(n.length-a,0),c=Array(d);++o<d;)c[o]=n[a+o];o=-1;for(var l=Array(a+1);++o<a;)l[o]=n[o];return l[a]=i(c),Vt(e,this,l)}}var Re=Te?Te.isConcatSpreadable:void 0;function Xt(e){return pe(e)||De(e)||!!(Re&&e&&e[Re])}function Yt(e,a,i,n,o){var d=-1,c=e.length;for(i||(i=Xt),o||(o=[]);++d<c;){var l=e[d];i(l)?rt(o,l):o[o.length]=l}return o}function qt(e){var a=e==null?0:e.length;return a?Yt(e):[]}function Gt(e){return Kt(Wt(e,void 0,qt),e+"")}function Nn(){if(!arguments.length)return[];var e=arguments[0];return pe(e)?e:[e]}function Qt(e,a){return e!=null&&a in Object(e)}function Jt(e,a,i){a=Ke(a,e);for(var n=-1,o=a.length,d=!1;++n<o;){var c=lt(a[n]);if(!(d=e!=null&&i(e,c)))break;e=e[c]}return d||++n!=o?d:(o=e==null?0:e.length,!!o&&ut(o)&&dt(c,o)&&(pe(e)||De(e)))}function Zt(e,a){return e!=null&&Jt(e,a,Qt)}function jt(e,a,i){for(var n=-1,o=a.length,d={};++n<o;){var c=a[n],l=ct(e,c);i(l,c)&&ft(d,Ke(c,e),l)}return d}function _t(e,a){return jt(e,a,function(i,n){return Zt(e,n)})}var en=Gt(function(e,a){return e==null?{}:_t(e,a)});const ee="update:modelValue",He="change",fe="input";let C;const tn={height:"0",visibility:"hidden",overflow:pt()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},nn=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],Be=e=>{const a=Number.parseFloat(e);return Number.isNaN(a)?e:a};function an(e){const a=window.getComputedStyle(e),i=a.getPropertyValue("box-sizing"),n=Number.parseFloat(a.getPropertyValue("padding-bottom"))+Number.parseFloat(a.getPropertyValue("padding-top")),o=Number.parseFloat(a.getPropertyValue("border-bottom-width"))+Number.parseFloat(a.getPropertyValue("border-top-width"));return{contextStyle:nn.map(c=>[c,a.getPropertyValue(c)]),paddingSize:n,borderSize:o,boxSizing:i}}function $e(e,a=1,i){var n,o;C||(C=document.createElement("textarea"),((n=e.parentNode)!=null?n:document.body).appendChild(C));const{paddingSize:d,borderSize:c,boxSizing:l,contextStyle:p}=an(e);p.forEach(([y,b])=>C?.style.setProperty(y,b)),Object.entries(tn).forEach(([y,b])=>C?.style.setProperty(y,b,"important")),C.value=e.value||e.placeholder||"";let v=C.scrollHeight;const E={};l==="border-box"?v=v+c:l==="content-box"&&(v=v-d),C.value="";const S=C.scrollHeight-d;if(ze(a)){let y=S*a;l==="border-box"&&(y=y+d+c),v=Math.max(y,v),E.minHeight=`${y}px`}if(ze(i)){let y=S*i;l==="border-box"&&(y=y+d+c),v=Math.min(y,v)}return E.height=`${v}px`,(o=C.parentNode)==null||o.removeChild(C),C=void 0,E}const on=We({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),sn=e=>en(on,e),rn=We({id:{type:String,default:void 0},size:ht,disabled:{type:Boolean,default:void 0},modelValue:{type:M([String,Number,Object]),default:""},modelModifiers:{type:M(Object),default:()=>({})},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:M(String),default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:M([Boolean,Object]),default:!1},autocomplete:{type:M(String),default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:re,default:mt},showPassword:Boolean,showWordLimit:Boolean,wordLimitPosition:{type:String,values:["inside","outside"],default:"inside"},suffixIcon:{type:re},prefixIcon:{type:re},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:M([Object,Array,String]),default:()=>vt({})},autofocus:Boolean,rows:{type:Number,default:2},...sn(["ariaLabel"]),inputmode:{type:M(String),default:void 0},name:String}),ln={[ee]:e=>ie(e),input:e=>ie(e),change:(e,a)=>ie(e)&&(a instanceof Event||a===void 0),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},un=["class","style"],dn=/^on[A-Z]/,cn=(e={})=>{const{excludeListeners:a=!1,excludeKeys:i}=e,n=h(()=>(i?.value||[]).concat(un)),o=Xe();return o?h(()=>{var d;return bt(Object.entries((d=o.proxy)==null?void 0:d.$attrs).filter(([c])=>!n.value.includes(c)&&!(a&&dn.test(c))))}):h(()=>({}))},fn='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',Ue=e=>typeof Element>"u"?!1:e instanceof Element,pn=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,Pn=e=>Array.from(e.querySelectorAll(fn)).filter(a=>ve(a)&&pn(a)),ve=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.tabIndex<0||e.hasAttribute("disabled")||e.getAttribute("aria-disabled")==="true")return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Tn=function(e,a,...i){let n;a.includes("mouse")||a.includes("click")?n="MouseEvents":a.includes("key")?n="KeyboardEvent":n="HTMLEvents";const o=document.createEvent(n);return o.initEvent(a,...i),e.dispatchEvent(o),e},zn=(e,a)=>{if(!e||!e.focus)return;let i=!1;Ue(e)&&!ve(e)&&!e.getAttribute("tabindex")&&(e.setAttribute("tabindex","-1"),i=!0),e.focus(a),Ue(e)&&i&&e.removeAttribute("tabindex")};function vn(e,{disabled:a,beforeFocus:i,afterFocus:n,beforeBlur:o,afterBlur:d}={}){const c=Xe(),{emit:l}=c,p=j(),v=D(!1),E=b=>{const x=Me(i)?i(b):!1;s(a)||v.value||x||(v.value=!0,l("focus",b),n?.())},S=b=>{var x;const u=Me(o)?o(b):!1;s(a)||b.relatedTarget&&((x=p.value)!=null&&x.contains(b.relatedTarget))||u||(v.value=!1,l("blur",b),d?.())},y=b=>{var x,u;s(a)||ve(b.target)||(x=p.value)!=null&&x.contains(document.activeElement)&&p.value!==document.activeElement||(u=e.value)==null||u.focus()};return _([p,()=>s(a)],([b,x])=>{b&&(x?b.removeAttribute("tabindex"):b.setAttribute("tabindex","-1"))}),le(p,"focus",E,!0),le(p,"blur",S,!0),le(p,"click",y,!0),{isFocused:v,wrapperRef:p,handleFocus:E,handleBlur:S}}const mn=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function hn({afterComposition:e,emit:a}){const i=D(!1),n=l=>{a?.("compositionstart",l),i.value=!0},o=l=>{var p;a?.("compositionupdate",l);const v=(p=l.target)==null?void 0:p.value,E=v[v.length-1]||"";i.value=!mn(E)},d=l=>{a?.("compositionend",l),i.value&&(i.value=!1,k(()=>e(l)))};return{isComposing:i,handleComposition:l=>{l.type==="compositionend"?d(l):o(l)},handleCompositionStart:n,handleCompositionUpdate:o,handleCompositionEnd:d}}function bn(e){let a;function i(){if(e.value==null)return;const{selectionStart:o,selectionEnd:d,value:c}=e.value;if(o==null||d==null)return;const l=c.slice(0,Math.max(0,o)),p=c.slice(Math.max(0,d));a={selectionStart:o,selectionEnd:d,value:c,beforeTxt:l,afterTxt:p}}function n(){if(e.value==null||a==null)return;const{value:o}=e.value,{beforeTxt:d,afterTxt:c,selectionStart:l}=a;if(d==null||c==null||l==null)return;let p=o.length;if(o.endsWith(c))p=o.length-c.length;else if(o.startsWith(d))p=d.length;else{const v=d[l-1],E=o.indexOf(v,l-1);E!==-1&&(p=E+1)}e.value.setSelectionRange(p,p)}return[i,n]}const gn=["id","name","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","inputmode"],yn=["id","name","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role"],xn="ElInput",wn=yt({name:xn,inheritAttrs:!1,__name:"input",props:rn,emits:ln,setup(e,{expose:a,emit:i}){const n=e,o=i,d=xt(),c=cn(),l=wt(),p=h(()=>[n.type==="textarea"?me.b():u.b(),u.m(b.value),u.is("disabled",x.value),u.is("exceed",Qe.value),{[u.b("group")]:l.prepend||l.append,[u.m("prefix")]:l.prefix||n.prefixIcon,[u.m("suffix")]:l.suffix||n.suffixIcon||n.clearable||n.showPassword,[u.bm("suffix","password-clear")]:Y.value&&ae.value,[u.b("hidden")]:n.type==="hidden"},d.class]),v=h(()=>[u.e("wrapper"),u.is("focus",ne.value)]),{form:E,formItem:S}=At(),{inputId:y}=Lt(n,{formItemContext:S}),b=kt(),x=Ft(),u=ke("input"),me=ke("textarea"),K=j(),T=j(),te=D(!1),W=D(!1),he=D(),X=j(n.inputStyle),I=h(()=>K.value||T.value),{wrapperRef:Ye,isFocused:ne,handleFocus:be,handleBlur:ge}=vn(I,{disabled:x,afterBlur(){var t;n.validateEvent&&((t=S?.validate)==null||t.call(S,"blur").catch(r=>Oe()))}}),ye=h(()=>{var t;return(t=E?.statusIcon)!=null?t:!1}),V=h(()=>S?.validateState||""),xe=h(()=>V.value&&St[V.value]),qe=h(()=>W.value?Et:Ct),Ge=h(()=>[d.style]),we=h(()=>[n.inputStyle,X.value,{resize:n.resize}]),z=h(()=>It(n.modelValue)?"":String(n.modelValue)),Y=h(()=>n.clearable&&!x.value&&!n.readonly&&!!z.value&&(ne.value||te.value)),ae=h(()=>n.showPassword&&!x.value&&!!z.value),F=h(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!x.value&&!n.readonly&&!n.showPassword),oe=h(()=>z.value.length),Qe=h(()=>!!F.value&&oe.value>Number(n.maxlength)),Je=h(()=>!!l.suffix||!!n.suffixIcon||Y.value||n.showPassword||F.value||!!V.value&&ye.value),Ze=h(()=>!!Object.keys(n.modelModifiers).length),[je,_e]=bn(K);Nt(T,t=>{if(et(),!F.value||n.resize!=="both"&&n.resize!=="horizontal")return;const r=t[0],{width:f}=r.contentRect;he.value={right:`calc(100% - ${f+22-10}px)`}});const R=()=>{const{type:t,autosize:r}=n;if(!(!zt||t!=="textarea"||!T.value))if(r){const f=Le(r)?r.minRows:void 0,L=Le(r)?r.maxRows:void 0,H=$e(T.value,f,L);X.value={overflowY:"hidden",...H},k(()=>{T.value.offsetHeight,X.value=H})}else X.value={minHeight:$e(T.value).minHeight}},et=(t=>{let r=!1;return()=>{var f;if(r||!n.autosize)return;((f=T.value)==null?void 0:f.offsetParent)===null||(setTimeout(t),r=!0)}})(R),A=()=>{const t=I.value,r=n.formatter?n.formatter(z.value):z.value;!t||t.value===r||n.type==="file"||(t.value=r)},Se=t=>{const{trim:r,number:f}=n.modelModifiers;return r&&(t=t.trim()),f&&(t=`${Be(t)}`),n.formatter&&n.parser&&(t=n.parser(t)),t},se=async t=>{if(Ce.value)return;const{lazy:r}=n.modelModifiers;let{value:f}=t.target;if(r){o(fe,f);return}if(f=Se(f),String(f)===z.value){n.formatter&&A();return}je(),o(ee,f),o(fe,f),await k(),(n.formatter&&n.parser||!Ze.value)&&A(),_e()},Ee=async t=>{let{value:r}=t.target;r=Se(r),n.modelModifiers.lazy&&o(ee,r),o(He,r,t),await k(),A()},{isComposing:Ce,handleCompositionStart:q,handleCompositionUpdate:G,handleCompositionEnd:Q}=hn({emit:o,afterComposition:se}),tt=()=>{W.value=!W.value},nt=()=>{var t;return(t=I.value)==null?void 0:t.focus()},at=()=>{var t;return(t=I.value)==null?void 0:t.blur()},ot=t=>{te.value=!1,o("mouseleave",t)},st=t=>{te.value=!0,o("mouseenter",t)},Ie=t=>{o("keydown",t)},it=()=>{var t;(t=I.value)==null||t.select()},Ne=()=>{o(ee,""),o(He,""),o("clear"),o(fe,"")};return _(()=>n.modelValue,()=>{var t;k(()=>R()),n.validateEvent&&((t=S?.validate)==null||t.call(S,"change").catch(r=>Oe()))}),_(z,t=>{if(!I.value)return;const{trim:r,number:f}=n.modelModifiers,L=I.value.value,H=(f||n.type==="number")&&!/^0\d/.test(L)?`${Be(L)}`:L;H!==t&&(document.activeElement===I.value&&I.value.type!=="range"&&r&&H.trim()===t||A())}),_(()=>n.type,async()=>{await k(),A(),R()}),Pt(()=>{!n.formatter&&n.parser,A(),k(R)}),a({input:K,textarea:T,ref:I,textareaStyle:we,autosize:Tt(n,"autosize"),isComposing:Ce,focus:nt,blur:at,select:it,clear:Ne,resizeTextarea:R}),(t,r)=>(m(),N("div",{class:w([p.value,{[s(u).bm("group","append")]:t.$slots.append,[s(u).bm("group","prepend")]:t.$slots.prepend}]),style:Ae(Ge.value),onMouseenter:st,onMouseleave:ot},[g(" input "),t.type!=="textarea"?(m(),N(ue,{key:0},[g(" prepend slot "),t.$slots.prepend?(m(),N("div",{key:0,class:w(s(u).be("group","prepend"))},[J(t.$slots,"prepend")],2)):g("v-if",!0),O("div",{ref_key:"wrapperRef",ref:Ye,class:w(v.value)},[g(" prefix slot "),t.$slots.prefix||t.prefixIcon?(m(),N("span",{key:0,class:w(s(u).e("prefix"))},[O("span",{class:w(s(u).e("prefix-inner"))},[J(t.$slots,"prefix"),t.prefixIcon?(m(),P(s(U),{key:0,class:w(s(u).e("icon"))},{default:B(()=>[(m(),P($(t.prefixIcon)))]),_:1},8,["class"])):g("v-if",!0)],2)],2)):g("v-if",!0),O("input",Fe({id:s(y),ref_key:"input",ref:K,class:s(u).e("inner")},s(c),{name:t.name,minlength:t.minlength,maxlength:t.maxlength,type:t.showPassword?W.value?"text":"password":t.type,disabled:s(x),readonly:t.readonly,autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-label":t.ariaLabel,placeholder:t.placeholder,style:t.inputStyle,form:t.form,autofocus:t.autofocus,role:t.containerRole,inputmode:t.inputmode,onCompositionstart:r[0]||(r[0]=(...f)=>s(q)&&s(q)(...f)),onCompositionupdate:r[1]||(r[1]=(...f)=>s(G)&&s(G)(...f)),onCompositionend:r[2]||(r[2]=(...f)=>s(Q)&&s(Q)(...f)),onInput:se,onChange:Ee,onKeydown:Ie}),null,16,gn),g(" suffix slot "),Je.value?(m(),N("span",{key:1,class:w(s(u).e("suffix"))},[O("span",{class:w(s(u).e("suffix-inner"))},[!Y.value||!ae.value||!F.value?(m(),N(ue,{key:0},[J(t.$slots,"suffix"),t.suffixIcon?(m(),P(s(U),{key:0,class:w(s(u).e("icon"))},{default:B(()=>[(m(),P($(t.suffixIcon)))]),_:1},8,["class"])):g("v-if",!0)],64)):g("v-if",!0),Y.value?(m(),P(s(U),{key:1,class:w([s(u).e("icon"),s(u).e("clear")]),onMousedown:de(s(ce),["prevent"]),onClick:Ne},{default:B(()=>[(m(),P($(t.clearIcon)))]),_:1},8,["class","onMousedown"])):g("v-if",!0),ae.value?(m(),P(s(U),{key:2,class:w([s(u).e("icon"),s(u).e("password")]),onClick:tt,onMousedown:de(s(ce),["prevent"]),onMouseup:de(s(ce),["prevent"])},{default:B(()=>[(m(),P($(qe.value)))]),_:1},8,["class","onMousedown","onMouseup"])):g("v-if",!0),F.value?(m(),N("span",{key:3,class:w([s(u).e("count"),s(u).is("outside",t.wordLimitPosition==="outside")])},[O("span",{class:w(s(u).e("count-inner"))},Z(oe.value)+" / "+Z(t.maxlength),3)],2)):g("v-if",!0),V.value&&xe.value&&ye.value?(m(),P(s(U),{key:4,class:w([s(u).e("icon"),s(u).e("validateIcon"),s(u).is("loading",V.value==="validating")])},{default:B(()=>[(m(),P($(xe.value)))]),_:1},8,["class"])):g("v-if",!0)],2)],2)):g("v-if",!0)],2),g(" append slot "),t.$slots.append?(m(),N("div",{key:1,class:w(s(u).be("group","append"))},[J(t.$slots,"append")],2)):g("v-if",!0)],64)):(m(),N(ue,{key:1},[g(" textarea "),O("textarea",Fe({id:s(y),ref_key:"textarea",ref:T,class:[s(me).e("inner"),s(u).is("focus",s(ne))]},s(c),{name:t.name,minlength:t.minlength,maxlength:t.maxlength,tabindex:t.tabindex,disabled:s(x),readonly:t.readonly,autocomplete:t.autocomplete,style:we.value,"aria-label":t.ariaLabel,placeholder:t.placeholder,form:t.form,autofocus:t.autofocus,rows:t.rows,role:t.containerRole,onCompositionstart:r[3]||(r[3]=(...f)=>s(q)&&s(q)(...f)),onCompositionupdate:r[4]||(r[4]=(...f)=>s(G)&&s(G)(...f)),onCompositionend:r[5]||(r[5]=(...f)=>s(Q)&&s(Q)(...f)),onInput:se,onFocus:r[6]||(r[6]=(...f)=>s(be)&&s(be)(...f)),onBlur:r[7]||(r[7]=(...f)=>s(ge)&&s(ge)(...f)),onChange:Ee,onKeydown:Ie}),null,16,yn),F.value?(m(),N("span",{key:0,style:Ae(he.value),class:w([s(u).e("count"),s(u).is("outside",t.wordLimitPosition==="outside")])},Z(oe.value)+" / "+Z(t.maxlength),7)):g("v-if",!0)],64))],38))}});var Sn=gt(wn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Mn=Mt(Sn);export{He as C,Mn as E,ee as U,vn as a,sn as b,Nn as c,Wt as d,Yt as e,zn as f,Gt as g,Zt as h,Ot as i,ve as j,Pn as o,en as p,Kt as s,Tn as t,hn as u};
//# sourceMappingURL=el-input-Bh-bfSTL.js.map
