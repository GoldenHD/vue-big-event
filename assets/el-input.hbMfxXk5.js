import{cg as e,ch as t,bt as a,bz as n,ci as o,bQ as l,br as r,cj as i,bl as s,bs as u,ck as d,e as c,cl as p,b as f,H as v,d as m,m as b,F as h,aQ as g,aR as y,c as x,bX as w,a5 as S,aC as C,l as E,s as k,W as z,aM as I,y as M,X as P,_ as A,a as N,cm as F,N as B,u as T,aI as $,cn as _,co as j,am as L,al as O,P as R,U as V,J as H,o as U,a1 as K,a7 as W,x as X,h as q,r as D,g as Q,w as J,j as Y,K as Z,L as G,a6 as ee,bU as te,aq as ae,n as ne,aO as oe,f as le,k as re}from"./index.BmsgrFcj.js";import{u as ie,f as se,c as ue,e as de,d as ce}from"./_plugin-vue_export-helper.DnIr6MF_.js";function pe(e){return e}var fe=Date.now;var ve,me,be,he=e?function(t,a){return e(t,"toString",{configurable:!0,enumerable:!1,value:(n=a,function(){return n}),writable:!0});var n}:pe,ge=(ve=he,me=0,be=0,function(){var e=fe(),t=16-(e-be);if(be=e,t>0){if(++me>=800)return arguments[0]}else me=0;return ve.apply(void 0,arguments)}),ye=Math.max;function xe(e,t,a){return t=ye(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,l=ye(n.length-t,0),r=Array(l);++o<l;)r[o]=n[t+o];o=-1;for(var i=Array(t+1);++o<t;)i[o]=n[o];return i[t]=a(r),function(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}(e,this,i)}}var we=t?t.isConcatSpreadable:void 0;function Se(e){return a(e)||n(e)||!!(we&&e&&e[we])}function Ce(e,t,a,n,l){var r=-1,i=e.length;for(a||(a=Se),l||(l=[]);++r<i;){var s=e[r];a(s)?o(l,s):l[l.length]=s}return l}function Ee(e){return(null==e?0:e.length)?Ce(e):[]}function ke(e){return ge(xe(e,void 0,Ee),e+"")}function ze(){if(!arguments.length)return[];var e=arguments[0];return a(e)?e:[e]}function Ie(e,t){return null!=e&&t in Object(e)}function Me(e,t){return null!=e&&function(e,t,o){for(var u=-1,d=(t=l(t,e)).length,c=!1;++u<d;){var p=r(t[u]);if(!(c=null!=e&&o(e,p)))break;e=e[p]}return c||++u!=d?c:!!(d=null==e?0:e.length)&&i(d)&&s(p,d)&&(a(e)||n(e))}(e,t,Ie)}function Pe(e,t){return function(e,t,a){for(var n=-1,o=t.length,r={};++n<o;){var i=t[n],s=u(e,i);a(s,i)&&d(r,l(i,e),s)}return r}(e,t,function(t,a){return Me(e,a)})}var Ae=ke(function(e,t){return null==e?{}:Pe(e,t)});const Ne="update:modelValue",Fe="change",Be="input";let Te;const $e={height:"0",visibility:"hidden",overflow:p()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},_e=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],je=e=>{const t=Number.parseFloat(e);return Number.isNaN(t)?e:t};function Le(e,t=1,a){var n,o;Te||(Te=document.createElement("textarea"),(null!=(n=e.parentNode)?n:document.body).appendChild(Te));const{paddingSize:l,borderSize:r,boxSizing:i,contextStyle:s}=function(e){const t=window.getComputedStyle(e),a=t.getPropertyValue("box-sizing"),n=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),o=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:_e.map(e=>[e,t.getPropertyValue(e)]),paddingSize:n,borderSize:o,boxSizing:a}}(e);s.forEach(([e,t])=>null==Te?void 0:Te.style.setProperty(e,t)),Object.entries($e).forEach(([e,t])=>null==Te?void 0:Te.style.setProperty(e,t,"important")),Te.value=e.value||e.placeholder||"";let u=Te.scrollHeight;const d={};"border-box"===i?u+=r:"content-box"===i&&(u-=l),Te.value="";const p=Te.scrollHeight-l;if(c(t)){let e=p*t;"border-box"===i&&(e=e+l+r),u=Math.max(e,u),d.minHeight=`${e}px`}if(c(a)){let e=p*a;"border-box"===i&&(e=e+l+r),u=Math.min(e,u)}return d.height=`${u}px`,null==(o=Te.parentNode)||o.removeChild(Te),Te=void 0,d}const Oe=f({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),Re=e=>Ae(Oe,e),Ve=f({id:{type:String,default:void 0},size:y,disabled:{type:Boolean,default:void 0},modelValue:{type:m([String,Number,Object]),default:""},modelModifiers:{type:m(Object),default:()=>({})},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:m(String),default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:m([Boolean,Object]),default:!1},autocomplete:{type:m(String),default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:h,default:g},showPassword:Boolean,showWordLimit:Boolean,wordLimitPosition:{type:String,values:["inside","outside"],default:"inside"},suffixIcon:{type:h},prefixIcon:{type:h},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:m([Object,Array,String]),default:()=>b({})},autofocus:Boolean,rows:{type:Number,default:2},...Re(["ariaLabel"]),inputmode:{type:m(String),default:void 0},name:String}),He=["class","style"],Ue=/^on[A-Z]/,Ke=e=>"undefined"!=typeof Element&&e instanceof Element,We=e=>Array.from(e.querySelectorAll('a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])')).filter(e=>Xe(e)&&(e=>"fixed"!==getComputedStyle(e).position&&null!==e.offsetParent)(e)),Xe=e=>{if(e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.tabIndex<0||e.hasAttribute("disabled")||"true"===e.getAttribute("aria-disabled"))return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!==e.rel;case"INPUT":return!("hidden"===e.type||"file"===e.type);case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},qe=function(e,t,...a){let n;n=t.includes("mouse")||t.includes("click")?"MouseEvents":t.includes("key")?"KeyboardEvent":"HTMLEvents";const o=document.createEvent(n);return o.initEvent(t,...a),e.dispatchEvent(o),e},De=(e,t)=>{if(!e||!e.focus)return;let a=!1;!Ke(e)||Xe(e)||e.getAttribute("tabindex")||(e.setAttribute("tabindex","-1"),a=!0),e.focus(t),Ke(e)&&a&&e.removeAttribute("tabindex")};function Qe(e,{disabled:t,beforeFocus:a,afterFocus:n,beforeBlur:o,afterBlur:l}={}){const r=S(),{emit:i}=r,s=C(),u=E(!1),d=e=>{const o=!!I(a)&&a(e);M(t)||u.value||o||(u.value=!0,i("focus",e),null==n||n())},c=e=>{var a;const n=!!I(o)&&o(e);M(t)||e.relatedTarget&&(null==(a=s.value)?void 0:a.contains(e.relatedTarget))||n||(u.value=!1,i("blur",e),null==l||l())};return k([s,()=>M(t)],([e,t])=>{e&&(t?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1"))}),z(s,"focus",d,!0),z(s,"blur",c,!0),z(s,"click",a=>{var n,o;M(t)||Xe(a.target)||(null==(n=s.value)?void 0:n.contains(document.activeElement))&&s.value!==document.activeElement||null==(o=e.value)||o.focus()},!0),{isFocused:u,wrapperRef:s,handleFocus:d,handleBlur:c}}function Je({afterComposition:e,emit:t}){const a=E(!1),n=e=>{var n;null==t||t("compositionupdate",e);const o=null==(n=e.target)?void 0:n.value,l=o[o.length-1]||"";a.value=!(e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e))(l)},o=n=>{null==t||t("compositionend",n),a.value&&(a.value=!1,P(()=>e(n)))};return{isComposing:a,handleComposition:e=>{"compositionend"===e.type?o(e):n(e)},handleCompositionStart:e=>{null==t||t("compositionstart",e),a.value=!0},handleCompositionUpdate:n,handleCompositionEnd:o}}const Ye=["id","name","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","inputmode"],Ze=["id","name","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role"];const Ge=re(A(N({name:"ElInput",inheritAttrs:!1,__name:"input",props:Ve,emits:{[Ne]:e=>v(e),input:e=>v(e),change:(e,t)=>v(e)&&(t instanceof Event||void 0===t),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},setup(e,{expose:t,emit:a}){const n=e,o=a,l=F(),r=((e={})=>{const{excludeListeners:t=!1,excludeKeys:a}=e,n=x(()=>((null==a?void 0:a.value)||[]).concat(He)),o=S();return x(o?()=>{var e;return w(Object.entries(null==(e=o.proxy)?void 0:e.$attrs).filter(([e])=>!(n.value.includes(e)||t&&Ue.test(e))))}:()=>({}))})(),i=B(),s=x(()=>["textarea"===n.type?b.b():m.b(),m.m(f.value),m.is("disabled",v.value),m.is("exceed",ze.value),{[m.b("group")]:i.prepend||i.append,[m.m("prefix")]:i.prefix||n.prefixIcon,[m.m("suffix")]:i.suffix||n.suffixIcon||n.clearable||n.showPassword,[m.bm("suffix","password-clear")]:Se.value&&Ce.value,[m.b("hidden")]:"hidden"===n.type},l.class]),u=x(()=>[m.e("wrapper"),m.is("focus",pe.value)]),{form:d,formItem:c}=ue(),{inputId:p}=de(n,{formItemContext:c}),f=ie(),v=se(),m=T("input"),b=T("textarea"),h=C(),g=C(),y=E(!1),z=E(!1),I=E(),A=C(n.inputStyle),N=x(()=>h.value||g.value),{wrapperRef:re,isFocused:pe,handleFocus:fe,handleBlur:ve}=Qe(N,{disabled:v,afterBlur(){var e;n.validateEvent&&(null==(e=null==c?void 0:c.validate)||e.call(c,"blur").catch(e=>ce()))}}),me=x(()=>{var e;return null!=(e=null==d?void 0:d.statusIcon)&&e}),be=x(()=>(null==c?void 0:c.validateState)||""),he=x(()=>be.value&&$[be.value]),ge=x(()=>z.value?_:j),ye=x(()=>[l.style]),xe=x(()=>[n.inputStyle,A.value,{resize:n.resize}]),we=x(()=>L(n.modelValue)?"":String(n.modelValue)),Se=x(()=>n.clearable&&!v.value&&!n.readonly&&!!we.value&&(pe.value||y.value)),Ce=x(()=>n.showPassword&&!v.value&&!!we.value),Ee=x(()=>n.showWordLimit&&!!n.maxlength&&("text"===n.type||"textarea"===n.type)&&!v.value&&!n.readonly&&!n.showPassword),ke=x(()=>we.value.length),ze=x(()=>!!Ee.value&&ke.value>Number(n.maxlength)),Ie=x(()=>!!i.suffix||!!n.suffixIcon||Se.value||n.showPassword||Ee.value||!!be.value&&me.value),Me=x(()=>!!Object.keys(n.modelModifiers).length),[Pe,Ae]=function(e){let t;return[function(){if(null==e.value)return;const{selectionStart:a,selectionEnd:n,value:o}=e.value;if(null==a||null==n)return;const l=o.slice(0,Math.max(0,a)),r=o.slice(Math.max(0,n));t={selectionStart:a,selectionEnd:n,value:o,beforeTxt:l,afterTxt:r}},function(){if(null==e.value||null==t)return;const{value:a}=e.value,{beforeTxt:n,afterTxt:o,selectionStart:l}=t;if(null==n||null==o||null==l)return;let r=a.length;if(a.endsWith(o))r=a.length-o.length;else if(a.startsWith(n))r=n.length;else{const e=n[l-1],t=a.indexOf(e,l-1);-1!==t&&(r=t+1)}e.value.setSelectionRange(r,r)}]}(h);O(g,e=>{if($e(),!Ee.value||"both"!==n.resize&&"horizontal"!==n.resize)return;const t=e[0],{width:a}=t.contentRect;I.value={right:`calc(100% - ${a+22-10}px)`}});const Te=()=>{const{type:e,autosize:t}=n;if(oe&&"textarea"===e&&g.value)if(t){const e=le(t)?t.minRows:void 0,a=le(t)?t.maxRows:void 0,n=Le(g.value,e,a);A.value={overflowY:"hidden",...n},P(()=>{g.value.offsetHeight,A.value=n})}else A.value={minHeight:Le(g.value).minHeight}},$e=(e=>{let t=!1;return()=>{var a;if(t||!n.autosize)return;null===(null==(a=g.value)?void 0:a.offsetParent)||(setTimeout(e),t=!0)}})(Te),_e=()=>{const e=N.value,t=n.formatter?n.formatter(we.value):we.value;e&&e.value!==t&&"file"!==n.type&&(e.value=t)},Oe=e=>{const{trim:t,number:a}=n.modelModifiers;return t&&(e=e.trim()),a&&(e=`${je(e)}`),n.formatter&&n.parser&&(e=n.parser(e)),e},Re=async e=>{if(Ke.value)return;const{lazy:t}=n.modelModifiers;let{value:a}=e.target;t?o(Be,a):(a=Oe(a),String(a)!==we.value?(Pe(),o(Ne,a),o(Be,a),await P(),(n.formatter&&n.parser||!Me.value)&&_e(),Ae()):n.formatter&&_e())},Ve=async e=>{let{value:t}=e.target;t=Oe(t),n.modelModifiers.lazy&&o(Ne,t),o(Fe,t,e),await P(),_e()},{isComposing:Ke,handleCompositionStart:We,handleCompositionUpdate:Xe,handleCompositionEnd:qe}=Je({emit:o,afterComposition:Re}),De=()=>{z.value=!z.value},Ge=e=>{y.value=!1,o("mouseleave",e)},et=e=>{y.value=!0,o("mouseenter",e)},tt=e=>{o("keydown",e)},at=()=>{o(Ne,""),o(Fe,""),o("clear"),o(Be,"")};return k(()=>n.modelValue,()=>{var e;P(()=>Te()),n.validateEvent&&(null==(e=null==c?void 0:c.validate)||e.call(c,"change").catch(e=>ce()))}),k(we,e=>{if(!N.value)return;const{trim:t,number:a}=n.modelModifiers,o=N.value.value,l=!a&&"number"!==n.type||/^0\d/.test(o)?o:`${je(o)}`;l!==e&&(document.activeElement===N.value&&"range"!==N.value.type&&t&&l.trim()===e||_e())}),k(()=>n.type,async()=>{await P(),_e(),Te()}),R(()=>{!n.formatter&&n.parser,_e(),P(Te)}),t({input:h,textarea:g,ref:N,textareaStyle:xe,autosize:V(n,"autosize"),isComposing:Ke,focus:()=>{var e;return null==(e=N.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=N.value)?void 0:e.blur()},select:()=>{var e;null==(e=N.value)||e.select()},clear:at,resizeTextarea:Te}),(e,t)=>(U(),H("div",{class:q([s.value,{[M(m).bm("group","append")]:e.$slots.append,[M(m).bm("group","prepend")]:e.$slots.prepend}]),style:ne(ye.value),onMouseenter:et,onMouseleave:Ge},[K(" input "),"textarea"!==e.type?(U(),H(W,{key:0},[K(" prepend slot "),e.$slots.prepend?(U(),H("div",{key:0,class:q(M(m).be("group","prepend"))},[D(e.$slots,"prepend")],2)):K("v-if",!0),X("div",{ref_key:"wrapperRef",ref:re,class:q(u.value)},[K(" prefix slot "),e.$slots.prefix||e.prefixIcon?(U(),H("span",{key:0,class:q(M(m).e("prefix"))},[X("span",{class:q(M(m).e("prefix-inner"))},[D(e.$slots,"prefix"),e.prefixIcon?(U(),Q(M(Z),{key:0,class:q(M(m).e("icon"))},{default:J(()=>[(U(),Q(Y(e.prefixIcon)))]),_:1},8,["class"])):K("v-if",!0)],2)],2)):K("v-if",!0),X("input",G({id:M(p),ref_key:"input",ref:h,class:M(m).e("inner")},M(r),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?z.value?"text":"password":e.type,disabled:M(v),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,inputmode:e.inputmode,onCompositionstart:t[0]||(t[0]=(...e)=>M(We)&&M(We)(...e)),onCompositionupdate:t[1]||(t[1]=(...e)=>M(Xe)&&M(Xe)(...e)),onCompositionend:t[2]||(t[2]=(...e)=>M(qe)&&M(qe)(...e)),onInput:Re,onChange:Ve,onKeydown:tt}),null,16,Ye),K(" suffix slot "),Ie.value?(U(),H("span",{key:1,class:q(M(m).e("suffix"))},[X("span",{class:q(M(m).e("suffix-inner"))},[Se.value&&Ce.value&&Ee.value?K("v-if",!0):(U(),H(W,{key:0},[D(e.$slots,"suffix"),e.suffixIcon?(U(),Q(M(Z),{key:0,class:q(M(m).e("icon"))},{default:J(()=>[(U(),Q(Y(e.suffixIcon)))]),_:1},8,["class"])):K("v-if",!0)],64)),Se.value?(U(),Q(M(Z),{key:1,class:q([M(m).e("icon"),M(m).e("clear")]),onMousedown:ee(M(te),["prevent"]),onClick:at},{default:J(()=>[(U(),Q(Y(e.clearIcon)))]),_:1},8,["class","onMousedown"])):K("v-if",!0),Ce.value?(U(),Q(M(Z),{key:2,class:q([M(m).e("icon"),M(m).e("password")]),onClick:De,onMousedown:ee(M(te),["prevent"]),onMouseup:ee(M(te),["prevent"])},{default:J(()=>[(U(),Q(Y(ge.value)))]),_:1},8,["class","onMousedown","onMouseup"])):K("v-if",!0),Ee.value?(U(),H("span",{key:3,class:q([M(m).e("count"),M(m).is("outside","outside"===e.wordLimitPosition)])},[X("span",{class:q(M(m).e("count-inner"))},ae(ke.value)+" / "+ae(e.maxlength),3)],2)):K("v-if",!0),be.value&&he.value&&me.value?(U(),Q(M(Z),{key:4,class:q([M(m).e("icon"),M(m).e("validateIcon"),M(m).is("loading","validating"===be.value)])},{default:J(()=>[(U(),Q(Y(he.value)))]),_:1},8,["class"])):K("v-if",!0)],2)],2)):K("v-if",!0)],2),K(" append slot "),e.$slots.append?(U(),H("div",{key:1,class:q(M(m).be("group","append"))},[D(e.$slots,"append")],2)):K("v-if",!0)],64)):(U(),H(W,{key:1},[K(" textarea "),X("textarea",G({id:M(p),ref_key:"textarea",ref:g,class:[M(b).e("inner"),M(m).is("focus",M(pe))]},M(r),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:M(v),readonly:e.readonly,autocomplete:e.autocomplete,style:xe.value,"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:t[3]||(t[3]=(...e)=>M(We)&&M(We)(...e)),onCompositionupdate:t[4]||(t[4]=(...e)=>M(Xe)&&M(Xe)(...e)),onCompositionend:t[5]||(t[5]=(...e)=>M(qe)&&M(qe)(...e)),onInput:Re,onFocus:t[6]||(t[6]=(...e)=>M(fe)&&M(fe)(...e)),onBlur:t[7]||(t[7]=(...e)=>M(ve)&&M(ve)(...e)),onChange:Ve,onKeydown:tt}),null,16,Ze),Ee.value?(U(),H("span",{key:0,style:ne(I.value),class:q([M(m).e("count"),M(m).is("outside","outside"===e.wordLimitPosition)])},ae(ke.value)+" / "+ae(e.maxlength),7)):K("v-if",!0)],64))],38))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]));export{Fe as C,Ge as E,Ne as U,Qe as a,Re as b,ze as c,xe as d,Ce as e,De as f,ke as g,Me as h,pe as i,Xe as j,We as o,Ae as p,ge as s,qe as t,Je as u};
